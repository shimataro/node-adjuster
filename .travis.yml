# https://docs.travis-ci.com/user/languages/javascript-with-nodejs/
# https://github.com/codecov/example-node

language: "node_js"
node_js: # jest and eslint no longer support v4
  - "6"
  - "8"
install:
  - "npm install -g codecov"
  - "npm install"
os:
  - "linux"
  - "osx"
branches:
  only:
  - "master"
  - "develop"
cache:
  directories:
    - "node_modules"
script:
  - "npm run verify"
  - "codecov"
deploy:
  provider: npm
  email: "$NPM_EMAIL"
  api_key: "$NPM_TOKEN"
  on:
    tags: true
